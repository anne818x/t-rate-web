<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="#"><img src="images/logoinvert.png" style="display: inline-block; height: 50px; padding:5px">
            </a>
        </div>
        <!-- Navigation bar content-->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="#">
                        <h4>T-rate</h4>
                    </a>
                </li>
                <li>
                    <a href="#home">Home</a>
                </li>
                <li>
                    <a href="#explore">Explore</a>
                </li>
                <li>
                    <a href="#profile">Profile</a>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown">Settings
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <!--- these dont exist yet -->
                        <li><a href="accountsettings.html">Account settings</a></li>
                        <li><a href="reportbugs.html">Report bugs</a></li>
                        <li><a href="#profileSettings">Profile settings</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#faq">FAQ</a>
                </li>
                <li>
                    <a href="#contact">Contact</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#logout" data-toggle="" data-target="#loginModal">Log out</a>
                </li>
            </ul>
            <!-- search bar -->
            <form class="navbar-form navbar-right">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</nav>
</nav>
<!-- Page Content -->
<div class="container">
    <!-- row -->
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title" ng-model="teacherName">{{selectedTeacher.name}}</h3>
            </div>
            <div class="panel-body">
                <div class="col-sm-6">
                    <p>Course taught by this lecturer: {{selectedTeacher.course}} </p>
                    <div class="form-group">
                        <br></br>
                        <button type="submit" class="btn btn-success" data-toggle="modal" data-target="#reviewModal">
                            Rate this teacher &raquo;
                        </button>
                    </div>
                </div>
                <div class="col-sm-4">
                    <h4><i>Average score</i></h4>
                    <div style="margin:0">
                        <h6><b>Total</b> <img class="pull-right" ng-src="images/stars/{{avgtotal}}star.png" height="15"></h6>
                    </div>
                    <div style="margin:0">
                        <h6>Atmosphere <img class="pull-right" ng-src="images/stars/{{avgatmos}}star.png" height="15"></h6>
                    </div>
                    <div style="margin:0">
                        <h6>Helpfulness <img class="pull-right" ng-src="images/stars/{{avghelp}}star.png" height="15"></h6>
                    </div>
                    <div style="margin:0">
                        <h6>Lectures <img class="pull-right" ng-src="images/stars/{{avglec}}star.png" height="15"></h6>
                    </div>
                    <div style="margin:0">
                        <h6>Preparation <img class="pull-right" ng-src="images/stars/{{avgprep}}star.png" height="15"></h6>
                    </div>
                    <div style="margin:0">
                        <h6>Professionalism <img class="pull-right" ng-src="images/stars/{{avgprof}}star.png" height="15"></h6>

                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">What do other students think of this teacher?</h3>
            </div>
            <div class="panel-body">
                <!-- review -->
                <div class="col-sm-5 well" style="margin:3%; margin-top:0;" ng-repeat="teacherReview in teacherReviews |limitTo: limit">
                    <div class="well emptyborder" style="width: 100%; height: 8em; line-height: 1em; word-wrap: break-word;">
                        <p><i>{{teacherReview.com}}</i></p>
                    </div>
                    <div class="col-sm-12">
                        <div class="well well-sm" style="margin:0">
                            <h6>Atmosphere <img class="pull-right" ng-src="images/stars/{{teacherReview.atmos}}star.png" height="15"></h6>
                        </div>
                        <div class="well well-sm" style="margin:0">
                            <h6>Helpfulness <img class="pull-right" ng-src="images/stars/{{teacherReview.help}}star.png" height="15"></h6>
                        </div>
                        <div class="well well-sm" style="margin:0">
                            <h6>Lectures <img class="pull-right" ng-src="images/stars/{{teacherReview.lec}}star.png" height="15"></h6>
                        </div>
                        <div class="well well-sm" style="margin:0">
                            <h6>Preparation <img class="pull-right" ng-src="images/stars/{{teacherReview.prep}}star.png" height="15"></h6>
                        </div>
                        <div class="well well-sm" style="margin:0">
                            <h6>Professionalism <img class="pull-right" ng-src="images/stars/{{teacherReview.prof}}star.png"
                                    height="15"></h6>

                        </div>

                        </br>
                        <span class="glyphicon glyphicon-question-sign"></span>
                        <i>
                            <small>Is this review fair? Rate this review</small>
                        </i>
                        </br>

                        <div class="btn-group" style="width:100%">
                            <button class="btn btn-default glyphicon glyphicon-plus" ng-class="{'btn-success': teacherReview.currentVote == 'True', 'btn-default': teacherReview.currentVote == 'False'}"
                                ng-click="upvote(teacherReview.reviewID);"></button>
                            <button class="btn btn-default glyphicon glyphicon-minus" ng-class="{'btn-default': teacherReview.currentVote == 'True', 'btn-danger': teacherReview.currentVote == 'False'}"
                                ng-click="downvote(teacherReview.reviewID);"></button>
                            <button class="btn btn-danger glyphicon glyphicon-flag pull-right" data-toggle="modal" data-target="#reportModal" ng-controller="ReportController"
                                ng-click="selectedReview(teacherReview.reviewID)"></button>
                        </div>
                        <div class="btn-group" style="width:100%">
                            <span class="label label-info">Total upvotes: {{teacherReview.voteScore}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <button class="btn btn-default" style="width:100%;" ng-click="more()">See more</button>
                </div>
            </div>
        </div>
        <hr>
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; T-rate 2017</p>
                </div>
            </div>
        </footer>
        </nav>

        <!-- Modal -->
        <div id="reviewModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Review</h4>
                    </div>
                    <div class="modal-body">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Write your own review on {{selectedTeacher.name}}</h3>
                            </div>
                            <div class="panel-body">
                                <!-- Text area -->
                                <div class="col-sm-6">
                                    </br>
                                    <h4 class="align-right">Atmosphere <span class="glyphicon glyphicon-question-sign pull-right" data-toggle="tooltip"
                                            data-placement="right" title="Do you feel comfortable in class?"></span></h4>
                                    <div class="ratingstar">
                                        <label class="labelat">☆
                                            <input type="radio" name="Atmosphere" value="5"/>
                                        </label>
                                        <label class="labelat">☆
                                            <input type="radio" name="Atmosphere" value="4"/>
                                        </label>
                                        <label class="labelat">☆
                                            <input type="radio" name="Atmosphere" value="3"/>
                                        </label>
                                        <label class="labelat">☆
                                            <input type="radio" name="Atmosphere" value="2"/>
                                        </label>
                                        <label class="labelat">☆
                                            <input type="radio" name="Atmosphere" value="1"/>
                                        </label>
                                    </div>
                                    </br>
                                    <h4 class="align-right">Helpfulness <span class="glyphicon glyphicon-question-sign pull-right" data-toggle="tooltip"
                                            data-placement="right" title="Are they willing to help? Is the help useful?"></span></h4>
                                    <div class="ratingstar">
                                        <label class="labelhe">☆
                                            <input type="radio" name="Helpfulness" value="5"/>
                                        </label>
                                        <label class="labelhe">☆
                                            <input type="radio" name="Helpfulness" value="4"/>
                                        </label>
                                        <label class="labelhe">☆
                                            <input type="radio" name="Helpfulness" value="3"/>
                                        </label>
                                        <label class="labelhe">☆
                                            <input type="radio" name="Helpfulness" value="2"/>
                                        </label>
                                        <label class="labelhe">☆
                                            <input type="radio" name="Helpfulness" value="1"/>
                                        </label>
                                    </div>
                                    </br>
                                    <h4 class="align-right">Lectures <span class="glyphicon glyphicon-question-sign pull-right" data-toggle="tooltip"
                                            data-placement="right" title="How informative are the lecutures?"></span></h4>
                                    <div class="ratingstar">
                                        <label class="labelle">☆
                                            <input type="radio" name="Lectures" value="5"/>
                                        </label>
                                        <label class="labelle">☆
                                            <input type="radio" name="Lectures" value="4"/>
                                        </label>
                                        <label class="labelle">☆
                                            <input type="radio" name="Lectures" value="3"/>
                                        </label>
                                        <label class="labelle">☆
                                            <input type="radio" name="Lectures" value="2"/>
                                        </label>
                                        <label class="labelle">☆
                                            <input type="radio" name="Lectures" value="1"/>
                                        </label>
                                    </div>
                                    </br>
                                    <h4 class="align-right">Preparation <span class="glyphicon glyphicon-question-sign pull-right" data-toggle="tooltip"
                                            data-placement="right" title="Is the module book done on time? Are they prepared for class?"></span></h4>
                                    <div class="ratingstar">
                                        <label class="labelpre">☆
                                            <input type="radio" name="Preparation" value="5"/>
                                        </label>
                                        <label class="labelpre">☆
                                            <input type="radio" name="Preparation" value="4"/>
                                        </label>
                                        <label class="labelpre">☆
                                            <input type="radio" name="Preparation" value="3"/>
                                        </label>
                                        <label class="labelpre">☆
                                            <input type="radio" name="Preparation" value="2"/>
                                        </label>
                                        <label class="labelpre">☆
                                            <input type="radio" name="Preparation" value="1"/>
                                        </label>
                                    </div>
                                    </br>
                                    <h4 class="align-right">Professionalism <span class="glyphicon glyphicon-question-sign pull-right" data-toggle="tooltip"
                                            data-placement="right" title="Up-to-date with marking and grading of your work."></span></h4>
                                    <div class="ratingstar">
                                        <label class="labelpro">☆
                                            <input type="radio" name="Professionalism" value="5"/>
                                        </label>
                                        <label class="labelpro">☆
                                            <input type="radio" name="Professionalism" value="4"/>
                                        </label>
                                        <label class="labelpro">☆
                                            <input type="radio" name="Professionalism" value="3"/>
                                        </label>
                                        <label class="labelpro">☆
                                            <input type="radio" name="Professionalism" value="2"/>
                                        </label>
                                        <label class="labelpro">☆
                                            <input type="radio" name="Professionalism" value="1"/>
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    </br>
                                    <form id="reviewForm" role="form" name="reviewForm" ng-submit="submitForm(reviewForm.$valid)" novalidate>
                                        <div class="form-group" ng-class="{'has-error' : reviewForm.comment.$invalid && reviewForm.comment.$touched, 'has-success' : reviewForm.comment.$valid}">
                                            <div class="input-group">
                                                <span class="input-group-addon"><i
                                                        class="glyphicon glyphicon-pencil"></i></span>
                                                <textarea id="textArea" class="form-control" name="comment" ng-model="txt" placeholder="Review (min. 50 chars)" required=""
                                                    minlength="50" maxlength="200" rows="10" style="resize: none"></textarea>
                                                <Gentle class="noDisplay" ng-model="txt"></Gentle>
                                            </div>
                                        </div>
                                    </form>
                                    <p ng-if="isNotgentle" style="color:red;">Please abstain from using profanity!</p>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-success" ng-click="addReview()" ng-disabled="((reviewForm.$invalid) || (isNotgentle))">Send
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Modal -->
        <div id="reportModal" ng-controller="ReportController" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Report review</h4>
                    </div>
                    <div class="modal-body">
                        <div class="panel-body">
                            <form id="report" name="reportForm" role="form">
                                <div class="input-group" ng-class="{'has-error' : reportForm.reportReason.$invalid && reportForm.reportReason.$touched, 'has-success' : reportForm.reportReason.$valid}">
                                    <span class="input-group-addon"><i
                                                            class="glyphicon glyphicon-pencil"></i></span>
                                    <textarea id="reportReason" class="form-control" name="reportReason" ng-model="reportReason" placeholder="Write the reason for this report(min. 50 chars)"
                                        required="" minlength="50" maxlength="250" rows="5" style="resize: none"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary" ng-disabled="reportForm.$invalid" style="width:100%; margin-top: 1%" ng-click="sendReport()"
                                    data-dismiss="modal">Send Report
                                </button>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" style="width:100%">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });

</script>