<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="#"><img src="images/logoinvert.png" style="display: inline-block; height: 50px; padding:5px">
			</a>
        </div>
        <!-- Navigation bar content-->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="#">
                        <h4>T-rate</h4>
                    </a>
                </li>
                <li>
                    <a href="#home">Home</a>
                </li>
                <li>
                    <a href="#explore">Explore</a>
                </li>
                <li ng-hide="!IsSignedIn">
                    <a href="#profile">Profile</a>
                </li>
                <li class="dropdown" ng-hide="!IsSignedIn">
                    <a class="dropdown-toggle" data-toggle="dropdown">Settings
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="#reportbugs">Report Bugs</a></li>
                        <li><a href="#profileSettings">Profile Settings</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#about">About</a>
                </li>
                <li ng-hide="!IsSignedIn">
                    <a href="#contact">Contact</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li ng-hide="!IsSignedIn">
                    <a href="#profile" data-toggle="">Hello, {{userData.Name}}</a>
                </li>
                <li ng-hide="IsSignedIn">
                    <a href="#" data-toggle="modal" data-target="#loginModal">Log in</a>
                </li>
                <li ng-hide="!IsSignedIn">
                    <a href="#logout" data-toggle="" data-target="#loginModal">Log out</a>
                </li>
                <li ng-hide="IsSignedIn">
                    <!--- no sign up modal yet-->
                    <a href="#" data-toggle="modal" data-target="#signUpModal">Sign up</a>
                </li>
            </ul>
            <!-- search bar -->
            <form class="navbar-form navbar-right">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</nav>
<header class="secondheader">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h3 class="tagline text-center">{{tag}}</h3>
            </div>
        </div>
    </div>
</header>
<!-- Page Content -->
<div class="container" ng-controller="HallOfFameController">
    <hr>
    <div class="row">
        <h2>Rate Stenden Teachers</h2>
        <p>
            T-rate lets you anonymously rate Stenden teachers. You can also post comments to go along with your review, and see the public
            comments posted by others.
        </p>
        <p>
            <a class="btn btn-success btn-lg" href="#explore">Rate your teachers &raquo;</a>
        </p>
    </div>
    <!-- /.row -->
    <hr>
    <div class="row">
        <div class="col-sm-6 ">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Top rated teacher</h3>
                </div>
                <div class="panel-body">
                    <img class="pull-right" src="images/badges/overall.png" style="width:60px; height:75px;">
                    </br>
                    </br>
                    <h4>BEST TEACHER OVERALL</h4>
                    <p><b><u>{{topRatedTeach.name}}</u></b></p>
                    <div class="well well-sm" style="margin:0">
                        <h6>Atmosphere <img class="pull-right" ng-src="images/stars/{{topRatedTeach.atmos}}star.png" height="15"></h6>
                        <h6>Helpfulness <img class="pull-right" ng-src="images/stars/{{topRatedTeach.help}}star.png" height="15"></h6>
                        <h6>Lectures <img class="pull-right" ng-src="images/stars/{{topRatedTeach.lec}}star.png" height="15"></h6>
                        <h6>Preparation <img class="pull-right" ng-src="images/stars/{{topRatedTeach.prep}}star.png" height="15"></h6>
                        <h6>Professionalism <img class="pull-right" ng-src="images/stars/{{topRatedTeach.prof}}star.png" height="15"></h6>
                        <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedTeach.id)" href="#review">
							<span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
						</a>
                    </div>
                    <p> Comments: </p>
                    <p class="emptyborder" ng-repeat="comment in topRatedCom"><i>
                        <small>{{comment.comment}}</small>
                    </i></p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 ">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Hall of fame</h3>
                    </div>
                    <div class="panel-body">
                        <p>The hall of fame shows the most popular teachers for the most recently finished module: {{shownCurrentMod}}.</p>
                        <hr>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <h4>Best atmosphere</h4>
                            <p>{{topRatedAtmos.name}}</p>

                            <table class="table table-condensed">
                                <img ng-src="images/stars/{{topRatedAtmos.atmos}}star.png" height="15">
                                <img class="pull-right" src="images/badges/atmosphere.png" style="width:50px; height:75px;">
                            </table>
                            <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedAtmos.id)" href="#review">
                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
                            </a>
                            <hr>

                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <h4>Most helpful teacher</h4>
                            <p>{{topRatedHelp.name}}</p>

                            <table class="table table-condensed">
                                <img ng-src="images/stars/{{topRatedHelp.help}}star.png" height="15">
                                <img class="pull-right" src="images/badges/helpfulness.png" style="width:60px; height:75px;">
                            </table>
                            <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedHelp.id)" href="#review">
                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
                            </a>
                            <hr>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <h4>Best lectures</h4>
                            <p>{{topRatedLec.name}}</p>

                            <table class="table table-condensed">
                                <img ng-src="images/stars/{{topRatedLec.lec}}star.png" height="15">
                                <img class="pull-right" src="images/badges/lectures.png" style="width:50px; height:75px;">
                            </table>
                            <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedLec.id)" href="#review">
                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
                            </a>
                            <hr>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <h4>Best preparation</h4>
                            <p>{{topRatedPrep.name}}</p>

                            <table class="table table-condensed">
                                <img ng-src="images/stars/{{topRatedPrep.prep}}star.png" height="15">
                                <img class="pull-right" src="images/badges/preparation.png" style="width:50px; height:75px;">
                            </table>
                            <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedPrep.id)" href="#review">
                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
                            </a>
                            <hr>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <h4>Most professional teacher</h4>
                            <p>{{topRatedProf.name}}</p>

                            <table class="table table-condensed">
                                <img ng-src="images/stars/{{topRatedProf.prof}}star.png" height="15">
                                <img class="pull-right" src="images/badges/professionalism.png" style="width:50px; height:75px;">
                            </table>
                            <a class="btn btn-default btn-sm" ng-click="findTeacher(topRatedProf.id)" href="#review">
                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span> See teacher page &raquo;
                            </a>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer -->
        <hr/>
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; T-rate 2017</p>
                </div>
            </div>
        </footer>
    </div>
</div>

<!--Login Modal-->
<div id="loginModal" ng-controller="LoginController" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Log in</h4>
            </div>
            <div class="modal-body">
                <div class="panel-body">
                    <form id="signin" role="form" name="loginForm">
                        <div class="input-group" style="padding:1%" ng-class="{'has-error' : loginForm.email.$invalid && loginForm.email.$touched, 'has-success' : loginForm.email.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input id="email" type="email" name="email" ng-model="user.email" class="form-control" placeholder="Email Address" required="">
                        </div>
                        <p class="help-block" ng-show="loginForm.email.$invalid && loginForm.email.$touched">Please enter an email with @student.stenden.com</p>

                        <div class="input-group" style="padding:1%" ng-class="{'has-error' : loginForm.password.$invalid && loginForm.password.$touched, 'has-success' : loginForm.password.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input id="password" type="password" name="password" ng-model="user.password" class="form-control" placeholder="Password"
                                required="" minlength="8" maxlength="20">
                        </div>
                        <p class="help-block" ng-show="loginForm.password.$invalid && loginForm.password.$touched">Please enter a password between 8 and 20 characters</p>

                        <button type="submit" class="btn btn-primary" ng-disabled="loginForm.$invalid" style="width:100%" ng-click="signIn()">Login</button>

                        <a href="#" data-toggle="modal" data-target="#passwordModal" onclick="clearBackdrop()">Reset your password</a>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width:100%">Close</button>
            </div>
        </div>
    </div>
</div>

<!--Sign up Modal-->
<div id="signUpModal" ng-controller="signUpController" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Sign Up</h4>
            </div>
            <div class="modal-body">
                <div class="panel-body">
                    <form id="signUp" role="form" name="registrationForm" ng-submit="submitForm(registrationForm.$valid)" novalidate>

                        <div class="input-group" style="padding: 1%" ng-class="{'has-error' : registrationForm.email.$invalid && registrationForm.email.$touched, 'has-success' : registrationForm.email.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input id="signUpEmail" type="email" ng-model="user.email" class="form-control" name="email" value="" placeholder="Email Address"
                                pattern="^[A-Za-z0-9._%+-]+@student\.stenden\.com$" required>
                        </div>
                        <p class="help-block" ng-show="registrationForm.email.$invalid && registrationForm.email.$touched">Please enter an email with @student.stenden.com</p>

                        <div class="input-group" style="padding: 1%" ng-class="{'has-error' : registrationForm.password.$invalid && registrationForm.password.$touched, 'has-success' : registrationForm.password.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input type="password" data-ng-model="user.password" class="form-control" name="password" value="" placeholder="Password"
                                ng-maxlength="20" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
                                required>
                        </div>
                        <p class="help-block" ng-show="registrationForm.password.$invalid && registrationForm.password.$touched">Please enter a password with at least one uppercase letter, lowercase letter and number. Must be
                            between 8 and 20 characters</p>

                        <div class="input-group" style="padding: 1%" ng-class="{'has-error' : registrationForm.confirm_password.$invalid && registrationForm.confirm_password.$touched, 'has-success' : registrationForm.confirm_password.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input type="password" ng-model="user.password_verify" class="form-control" name="confirm_password" value="" placeholder="Confirm Password"
                                ng-maxlength="20" required pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
                                data-password-verify="user.password">
                        </div>
                        <div class="help-block" ng-show="registrationForm.confirm_password.$error.passwordVerify">Both passwords must match.
                        </div>

                        <button id="submitUser" type="submit" class="btn btn-primary" ng-disabled="registrationForm.$invalid" data-dismiss="modal"
                            ng-click="signUp()" style="width:100%">Sign Up
                        </button>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!--Reset Password Modal-->
<div id="passwordModal" ng-controller="LoginController" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Reset Password</h4>
            </div>
            <div class="modal-body">
                <div class="panel-body">
                    <form id="passReset" role="form" name="passReset" novalidate>

                        <div class="input-group" style="padding: 1%" ng-class="{'has-error' : passReset.resetEmail.$invalid && passReset.resetEmail.$touched, 'has-success' : passReset.resetEmail.$valid}">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input id="resetEmail" type="email" ng-model="user.resetEmail" class="form-control" name="resetEmail" value="" placeholder="Email Address"
                                pattern="^[A-Za-z0-9._%+-]+@student\.stenden\.com$" required>
                        </div>
                        <p class="help-block" ng-show="passReset.resetEmail.$invalid && passReset.resetEmail.$touched">Please enter an email with @student.stenden.com</p>

                        <button id="submitEmail" type="submit" class="btn btn-primary" ng-disabled="passReset.$invalid" data-dismiss="modal" ng-click="resetPassword(resetEmail)"
                            style="width:100%">Reset your password
                        </button>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" style="width:100%">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    function clearBackdrop() {
        $('.modal-backdrop').remove();
    }

</script>